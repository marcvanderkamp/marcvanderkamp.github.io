<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

      <title>marcvanderkamp | Who is using Sire?</title>
  
  <!-- mmenu -->
  <link href="css/jquery.mmenu.all.css" type="text/css" rel="stylesheet" />

  <!-- Bootstrap -->
  <link href="css/bootstrap-united.min.css" rel="stylesheet" media="screen" />

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

        
  <!-- marcvanderkamp customisations -->
  <link href="css/chryswoods.css" rel="stylesheet" media="screen" />

</head>

<!-- Main page, divided into header, body and tail -->
<body>
  <!-- The main side menu -->
   <nav id='main_menu'>
     <ul>
       <li><a href='index.html'>Home</a></li>
       <li><a href='main/courses.html'>Courses</a>
       <li><a href='main/publications.html'>Publications</a></li>
       <li><a href='main/links.html'>Useful Links</a></li>
       <li><a href='main/contact.html'>Contact Information</a></li>
       <li><a href='main/website.html'>About this Website</a></li>
     </ul>
   </nav>

  <div>  <!-- main wrapper for mmenu -->
    <nav class="navbar navbar-default main_header">
      <div class="container-fluid">
        <ul class="nav navbar-nav">
          <li><a class="navbar-text" style="font-size:200%;" href="#main_menu"><img src="images/hamburger.png" height="30em" />&nbsp;&nbsp;marcvanderkamp</a></li>
        </ul>
      </div>
    </nav>

    <div class="main_body" id="main_body">
      
      <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
      <script type="text/javascript" src="https://www.google.com/jsapi"></script>
      <script type="text/javascript">
      google.charts.load("current", {"packages":["corechart", "geochart"]});
      google.charts.setOnLoadCallback(drawUsageMaps);
      
      function loadJSON(filename, callback)
      {   
          var xobj = new XMLHttpRequest();
          xobj.overrideMimeType("application/json");
          xobj.open('GET', filename, true);
          xobj.onreadystatechange = function () {
                if (xobj.readyState == 4 && xobj.status == "200") {
                  // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                  callback(xobj.responseText);
                }
          };
          xobj.send(null);  
      }
      
      function drawUsageMaps() 
      {
          loadJSON("http://siremol.org/phonehome/usagestats_country.json", function(response)
          {
              json = JSON.parse(response);
      
              var options = {
                colorAxis: {minValue: 0, maxValue: 100, colors: ['#ffff55', '#5555ff']},
                backgroundColor: '#aaaaff',
                datalessRegionColor: '#eeeeee',
                defaultColor: '#f5f5f5',
                width: '800'
              };
      
              var baroptions = {
                width: '800',
                hAxis: {"logScale" : true}
              };
      
              var charts = [];
      
              for (var t in json)
              {
                  var data = [ ["country", "usage"] ];
      
                  for (var key in json[t])
                  {
                      if (json[t][key] > 0)
                      {
                          data.push( [ key, json[t][key] ] );
                      }
                  }
      
                  tabledata = google.visualization.arrayToDataTable(data);
      
                  var chart = new google.visualization.GeoChart(document.getElementById("map_by_" + t));
                  chart.draw(tabledata, options);
                  charts.push(chart);
      
                  var bar = new google.visualization.BarChart(document.getElementById("bar_by_" + t));
                  bar.draw(tabledata, baroptions);
                  charts.push(bar);
              }
          });
      }
      
      </script>
      <h2 id="who-is-using-sire">Who is using Sire?</h2>
      <p>Below you can see how many times a Sire-based application has been used over different periods of time.</p>
      <div style="width=80%">
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" class="active"><a href="#today" aria-controls="today" role="tab" data-toggle="tab">Today</a></li>
          <li role="presentation"><a href="#week" aria-controls="week" role="tab" data-toggle="tab">Last Week</a></li>
          <li role="presentation"><a href="#month" aria-controls="week" role="tab" data-toggle="tab">Last Month</a></li>
          <li role="presentation"><a href="#year" aria-controls="year" role="tab" data-toggle="tab">Last Year</a></li>
          <li role="presentation"><a href="#alltime" aria-controls="alltime" role="tab" data-toggle="tab">All Time</a></li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane active" id="today"><div id="map_by_day"></div><div id="bar_by_day"></div></div>
          <div role="tabpanel" class="tab-pane" id="week"><div id="map_by_week"></div><div id="bar_by_week"></div></div>
          <div role="tabpanel" class="tab-pane" id="month"><div id="map_by_month"></div><div id="bar_by_month"></div></div>
          <div role="tabpanel" class="tab-pane" id="year"><div id="map_by_year"></div><div id="bar_by_year"></div></div>
          <div role="tabpanel" class="tab-pane" id="alltime"><div id="map_by_all"></div><div id="bar_by_all"></div></div>
        </div>
      </div>
      <p>Note that it is not possible to geolocate some users of Sire, hence the “unknown” 
      entries in the bar chart.</p>
      <p>Note that this data is only available since the (private) release of Sire 2015.0, and only widely used as part of the public release of Sire 2016.1, so it does not yet cover most Sire users.</p>
      <hr />
      <p><a href="README.html">Return to analytics overview</a></p>
          </div>

    <div class="main_tail" id="main_tail">
      <div class="wrapper">
       <p>Quick Links | <a href="index.html">Home</a> | 
	  <a href="main/courses.html">Courses</a>  | 
	  <a href="main/contact.html">Contact</a></p>
       <p><a href="main/copyright.html">Copyright Information</a> |
          <a href="mailto:chryswoods@gmail.com?subject=There is a problem with your website&body=Hi, I found a problem on the page analytics/geochart.html">Report a problem</a> I <a href="main/cookies.html">Privacy</a></p>
       <div class="clear"></div>
      </div>
    </div>

  </div> <!-- end of main wrapper for mmenu -->

  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
  <script type="text/javascript" src="js/jquery.mmenu.min.all.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/masonry.pkgd.min.js"></script>
  <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script type="text/javascript" src="js/ie10-viewport-bug-workaround.js"></script>

  <!-- Now the script to style and activate the menu -->
  <script type="text/javascript">
    $(document).ready(function() {
      $("#main_menu").mmenu({
                             extensions: ["border-full", "multiline", "theme-black"]
                             });

      // init Masonry
      var $grid = $('.grid').masonry({
        itemSelector: '.grid-item',
        columnWidth: 200,
        gutter: 2,
        isFitWidth: true
      });
      // layout Isotope after each image loads
      $grid.imagesLoaded().progress( function() {
        $grid.masonry();
      });  
    });

  </script>

  <!-- Google analytics tracking -->
  <script type="text/javascript">
    // Set to the same value as the web property used on the site
    var gaProperty = 'UA-2248955-4';

    // Disable tracking if the opt-out cookie exists.
    var disableStr = 'ga-disable-' + gaProperty;
    if (document.cookie.indexOf(disableStr + '=true') > -1) {
      window[disableStr] = true;
    }

    // Opt-out function
    function gaOptout() {
      document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
      window[disableStr] = true;
      alert("Google Analytics Tracking for this website has been disabled");
    }

<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-2248955-4"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
  </script>
</body>

</html>
